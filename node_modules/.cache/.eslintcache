[{"C:\\Trabalhos\\projetos-react\\costs\\src\\index.js":"1","C:\\Trabalhos\\projetos-react\\costs\\src\\App.js":"2","C:\\Trabalhos\\projetos-react\\costs\\src\\components\\pages\\Home.js":"3","C:\\Trabalhos\\projetos-react\\costs\\src\\components\\pages\\Company.js":"4","C:\\Trabalhos\\projetos-react\\costs\\src\\components\\pages\\Contact.js":"5","C:\\Trabalhos\\projetos-react\\costs\\src\\components\\pages\\NewProject.js":"6","C:\\Trabalhos\\projetos-react\\costs\\src\\components\\layout\\Container.js":"7","C:\\Trabalhos\\projetos-react\\costs\\src\\components\\layout\\Navbar.js":"8","C:\\Trabalhos\\projetos-react\\costs\\src\\components\\layout\\Footer.js":"9","C:\\Trabalhos\\projetos-react\\costs\\src\\components\\pages\\Projects.js":"10","C:\\Trabalhos\\projetos-react\\costs\\src\\components\\layout\\LinkButton.js":"11","C:\\Trabalhos\\projetos-react\\costs\\src\\components\\project\\ProjectForm.js":"12","C:\\Trabalhos\\projetos-react\\costs\\src\\components\\form\\Input.js":"13","C:\\Trabalhos\\projetos-react\\costs\\src\\components\\form\\Select.js":"14","C:\\Trabalhos\\projetos-react\\costs\\src\\components\\form\\SubmitButton.js":"15","C:\\Trabalhos\\projetos-react\\costs\\src\\components\\layout\\Message.js":"16","C:\\Trabalhos\\projetos-react\\costs\\src\\components\\project\\ProjectCard.js":"17","C:\\Trabalhos\\projetos-react\\costs\\src\\components\\layout\\Loading.js":"18","C:\\Trabalhos\\projetos-react\\costs\\src\\components\\pages\\Project.js":"19","C:\\Trabalhos\\projetos-react\\costs\\src\\components\\service\\ServiceForm.js":"20","C:\\Trabalhos\\projetos-react\\costs\\src\\components\\service\\ServiceCard.js":"21","C:\\Trabalhos\\projetos-react\\costs\\src\\services\\configAxios.js":"22"},{"size":218,"mtime":1641836144843,"results":"23","hashOfConfig":"24"},{"size":1121,"mtime":1642526319075,"results":"25","hashOfConfig":"24"},{"size":536,"mtime":1642013723968,"results":"26","hashOfConfig":"24"},{"size":77,"mtime":1641925210102,"results":"27","hashOfConfig":"24"},{"size":77,"mtime":1641925202618,"results":"28","hashOfConfig":"24"},{"size":936,"mtime":1643234963635,"results":"29","hashOfConfig":"24"},{"size":249,"mtime":1641932241583,"results":"30","hashOfConfig":"24"},{"size":856,"mtime":1641931810620,"results":"31","hashOfConfig":"24"},{"size":549,"mtime":1641932220706,"results":"32","hashOfConfig":"24"},{"size":2178,"mtime":1643235351987,"results":"33","hashOfConfig":"24"},{"size":257,"mtime":1642013666493,"results":"34","hashOfConfig":"24"},{"size":1866,"mtime":1643235097639,"results":"35","hashOfConfig":"24"},{"size":516,"mtime":1642102286358,"results":"36","hashOfConfig":"24"},{"size":719,"mtime":1642102660237,"results":"37","hashOfConfig":"24"},{"size":212,"mtime":1642016400721,"results":"38","hashOfConfig":"24"},{"size":664,"mtime":1642182756234,"results":"39","hashOfConfig":"24"},{"size":893,"mtime":1643228274099,"results":"40","hashOfConfig":"24"},{"size":299,"mtime":1642525123132,"results":"41","hashOfConfig":"24"},{"size":7147,"mtime":1643235571029,"results":"42","hashOfConfig":"24"},{"size":1438,"mtime":1642533590016,"results":"43","hashOfConfig":"24"},{"size":757,"mtime":1642536640597,"results":"44","hashOfConfig":"24"},{"size":106,"mtime":1643151776868,"results":"45","hashOfConfig":"24"},{"filePath":"46","messages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},"14ekiz7",{"filePath":"49","messages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"51","messages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"53","messages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"55","messages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"57","messages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"61","messages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"63","messages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"65","messages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"69","messages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"71","messages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"73","messages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"75","messages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"77","messages":"78","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"79","messages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"81","messages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"83","messages":"84","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"85"},{"filePath":"86","messages":"87","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"88","messages":"89","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"90","messages":"91","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Trabalhos\\projetos-react\\costs\\src\\index.js",[],["92","93"],"C:\\Trabalhos\\projetos-react\\costs\\src\\App.js",[],"C:\\Trabalhos\\projetos-react\\costs\\src\\components\\pages\\Home.js",[],"C:\\Trabalhos\\projetos-react\\costs\\src\\components\\pages\\Company.js",[],"C:\\Trabalhos\\projetos-react\\costs\\src\\components\\pages\\Contact.js",[],"C:\\Trabalhos\\projetos-react\\costs\\src\\components\\pages\\NewProject.js",[],"C:\\Trabalhos\\projetos-react\\costs\\src\\components\\layout\\Container.js",[],"C:\\Trabalhos\\projetos-react\\costs\\src\\components\\layout\\Navbar.js",[],"C:\\Trabalhos\\projetos-react\\costs\\src\\components\\layout\\Footer.js",[],"C:\\Trabalhos\\projetos-react\\costs\\src\\components\\pages\\Projects.js",[],"C:\\Trabalhos\\projetos-react\\costs\\src\\components\\layout\\LinkButton.js",[],"C:\\Trabalhos\\projetos-react\\costs\\src\\components\\project\\ProjectForm.js",[],"C:\\Trabalhos\\projetos-react\\costs\\src\\components\\form\\Input.js",[],"C:\\Trabalhos\\projetos-react\\costs\\src\\components\\form\\Select.js",[],"C:\\Trabalhos\\projetos-react\\costs\\src\\components\\form\\SubmitButton.js",[],"C:\\Trabalhos\\projetos-react\\costs\\src\\components\\layout\\Message.js",[],"C:\\Trabalhos\\projetos-react\\costs\\src\\components\\project\\ProjectCard.js",[],"C:\\Trabalhos\\projetos-react\\costs\\src\\components\\layout\\Loading.js",[],"C:\\Trabalhos\\projetos-react\\costs\\src\\components\\pages\\Project.js",["94"],"import {parse, v4 as uuidv4} from 'uuid'\r\nimport { Axios } from '../../services/configAxios'\r\n\r\nimport styles from './Project.module.css'\r\n\r\nimport { useParams } from 'react-router-dom'\r\nimport {useState, useEffect} from 'react'\r\n\r\nimport Loading from '../layout/Loading'\r\nimport Container from '../layout/Container'\r\nimport ProjectForm from '../project/ProjectForm'\r\nimport ServiceForm from '../service/ServiceForm'\r\nimport ServiceCard from '../service/ServiceCard'\r\nimport Message from '../layout/Message'\r\n\r\nfunction Project(){\r\n\r\n    let { id } = useParams()\r\n    const [project, setProject] = useState([])\r\n    const [services, setServices] = useState([])\r\n    const [showProjectForm, setShowProjectForm] = useState(false)\r\n    const [showServiceForm, setShowServiceForm] = useState(false)\r\n    const [message, setMessage] = useState()\r\n    const [type, setType] = useState()\r\n\r\n    useEffect(() => {\r\n      // Para ver o loading\r\n      setTimeout(() => {\r\n        Axios.get(`/projects/${id}`)\r\n        .then((response) => {\r\n          setProject(response.data)\r\n          setServices(response.data.services)\r\n        })\r\n      }, 0) \r\n    },[id])\r\n\r\n    function editPost(project){\r\n        setMessage('')\r\n        console.log(project)\r\n        //Budget Validation\r\n        if (project.budget < project.cost) {\r\n            setMessage('O orçamento não pode ser meno que o custo do projeto!')\r\n            setType('error')\r\n            return false\r\n        }\r\n        \r\n        Axios.patch(`/projects/${project.id}`)\r\n        .then((response) => {\r\n            setProject(response.data)\r\n            setShowProjectForm(false)\r\n            setMessage('Projeto Atualizado')\r\n            setType('success')\r\n        })\r\n    }\r\n\r\n    function createService(project) {\r\n        // last service\r\n        const lastService = project.services[project.services.length - 1]\r\n    \r\n        lastService.id = uuidv4()\r\n    \r\n        const lastServiceCost = lastService.cost\r\n    \r\n        const newCost = parseFloat(project.cost) + parseFloat(lastServiceCost)\r\n    \r\n        // maximum value validation\r\n        if (newCost > parseFloat(project.budget)) {\r\n          setMessage('Orçamento ultrapassado, verifique o valor do serviço!')\r\n          setType('error')\r\n          project.services.pop()\r\n          return false\r\n        }\r\n    \r\n        // add service cost to project cost total\r\n        project.cost = newCost\r\n    \r\n        fetch(`http://localhost:5000/projects/${project.id}`, {\r\n          method: 'PATCH',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify(project),\r\n        })\r\n          .then((resp) => resp.json())\r\n          .then((data) => {\r\n            setServices(data.services)\r\n            setShowServiceForm(!showServiceForm)\r\n            setMessage('Serviço adicionado!')\r\n            setType('success')\r\n          })\r\n      }\r\n\r\n      function removeService(id, cost) {\r\n        setMessage('')\r\n        const servicesUpdated = project.services.filter(\r\n          (service) => service.id !== id,\r\n        )\r\n    \r\n        const projectUpdated = project\r\n    \r\n        projectUpdated.services = servicesUpdated\r\n        projectUpdated.cost = parseFloat(projectUpdated.cost) - parseFloat(cost)\r\n    \r\n        fetch(`http://localhost:5000/projects/${projectUpdated.id}`, {\r\n          method: 'PATCH',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify(projectUpdated),\r\n        })\r\n          .then((resp) => resp.json())\r\n          .then((data) => {\r\n            setProject(projectUpdated)\r\n            setServices(servicesUpdated)\r\n            setMessage('Serviço removido com sucesso!')\r\n          })\r\n      }\r\n\r\n    function toggleProjectForm(){\r\n        setShowProjectForm (!showProjectForm)\r\n    }\r\n\r\n    function toggleServiceForm(){\r\n        setShowServiceForm (!showServiceForm)\r\n    }\r\n\r\n    return (<>\r\n        {project.name ? (\r\n            <div className={styles.project_details}>\r\n                <Container customClass=\"column\">\r\n                    {message && <Message type={type} msg={message}/>}\r\n                    <div className={styles.details_container}>\r\n                        <h1>Projeto: {project.name}</h1>\r\n                        <button className={styles.btn} onClick={toggleProjectForm}>\r\n                            {!showProjectForm ? 'Editar projeto' : 'Fechar'}\r\n                        </button>\r\n\r\n                        {!showProjectForm ? (\r\n                            <div className={styles.project_info}>\r\n                                <p>\r\n                                    <span>Categoria:</span> {project.category.name}\r\n                                </p>\r\n                                <p>\r\n                                    <span>Total do Orçamento:</span> R$ {project.budget}\r\n                                </p>\r\n                                <p>\r\n                                    <span>Total Utilizado:</span> R$ {project.cost}\r\n                                </p>\r\n                            </div>\r\n                        ) : (\r\n                            <div className={styles.project_info}>\r\n                                <ProjectForm \r\n                                 handleSubmit={editPost} \r\n                                 btnText=\"Concluir Edição\" \r\n                                 projectData={project}/>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                    <div className={styles.service_form_container}>\r\n                        <h2>Adicone um serviço:</h2>\r\n                        <button className={styles.btn} onClick={toggleServiceForm}>\r\n                            {!showServiceForm ? 'Adicione um Serviço' : 'Fechar'}\r\n                        </button>\r\n                        <div className={styles.project_info}>\r\n                            {showServiceForm && <ServiceForm\r\n                                handleSubmit={createService}\r\n                                btnText=\"Adiconar Serviço\"\r\n                                projectData={project}\r\n                            />}\r\n                        </div>\r\n                    </div>\r\n                    <h2>Serviços</h2>\r\n                    <Container customClass=\"start\">\r\n                        {services.length > 0 &&\r\n                            services.map((service) => (\r\n                            <ServiceCard\r\n                                id={service.id}\r\n                                name={service.name}\r\n                                cost={service.cost}\r\n                                description={service.description}\r\n                                key={service.id}\r\n                                handleRemove={removeService}\r\n                            />\r\n                            ))}\r\n                        {services.length === 0 && <p>Não há serviços cadastrados.</p>}\r\n                    </Container>\r\n                </Container>\r\n            </div>\r\n        ): ( <Loading/> )}\r\n    </>)\r\n}\r\nexport default Project","C:\\Trabalhos\\projetos-react\\costs\\src\\components\\service\\ServiceForm.js",[],"C:\\Trabalhos\\projetos-react\\costs\\src\\components\\service\\ServiceCard.js",[],"C:\\Trabalhos\\projetos-react\\costs\\src\\services\\configAxios.js",[],{"ruleId":"95","replacedBy":"96"},{"ruleId":"97","replacedBy":"98"},{"ruleId":"99","severity":1,"message":"100","line":1,"column":9,"nodeType":"101","messageId":"102","endLine":1,"endColumn":14},"no-native-reassign",["103"],"no-negated-in-lhs",["104"],"no-unused-vars","'parse' is defined but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation"]